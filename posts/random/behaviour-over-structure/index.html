<!DOCTYPE html>
<html lang="en-gb">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="author" content="Jacek Bilski">

    
    
    

<title>Behaviour over structure • On Software Engineering</title>
<meta name="description" content="We, developers, often forget why we even exist. We quite often don&#39;t remember that our purpose is not to write software, but to solve problems. Those come in different forms, but can be generalized as &#34;we need to start doing this&#34;, &#34;we need to stop doing this&#34; or &#34;we need to do this differently&#34;. Those &#34;do&#34; and &#34;doing&#34; are the key, whatever &#34;this&#34; is. It&#39;s the behaviour our software exhibits that is most important, almost everything else is secondary.">
<meta name="keywords" content="basics, engineering, software development, value">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Behaviour over structure"/>
<meta name="twitter:description" content="We, developers, often forget why we even exist. We quite often don&#39;t remember that our purpose is not to write software, but to solve problems. Those come in different forms, but can be generalized as &#34;we need to start doing this&#34;, &#34;we need to stop doing this&#34; or &#34;we need to do this differently&#34;. Those &#34;do&#34; and &#34;doing&#34; are the key, whatever &#34;this&#34; is. It&#39;s the behaviour our software exhibits that is most important, almost everything else is secondary."/>
<meta name="twitter:site" content="@jacek_bilski"/>

<meta property="og:title" content="Behaviour over structure" />
<meta property="og:description" content="We, developers, often forget why we even exist. We quite often don&#39;t remember that our purpose is not to write software, but to solve problems. Those come in different forms, but can be generalized as &#34;we need to start doing this&#34;, &#34;we need to stop doing this&#34; or &#34;we need to do this differently&#34;. Those &#34;do&#34; and &#34;doing&#34; are the key, whatever &#34;this&#34; is. It&#39;s the behaviour our software exhibits that is most important, almost everything else is secondary." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.bilski.tech/posts/random/behaviour-over-structure/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-16T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-16T00:00:00+00:00" />



    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.302e105633e7b74ff627e4a63c9fc0dc7446d15c60a7a4a2e12da987fdd9de0e.css" integrity="sha256-MC4QVjPnt0/2J&#43;SmPJ/A3HRG0Vxgp6Si4S2ph/3Z3g4=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.bilski.tech/">
        
          On Software Engineering
        
        </a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://www.bilski.tech/img/jacek.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         Jacek Bilski&#39;s thoughts about software engineering and how to improve it 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">On Software Engineering</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/random/">
						<span>Random Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/webcalc/">
						<span>WebCalc</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/testing_primer/">
						<span>Testing Primer</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/videos/">
						<span>Videos</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About Me</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/jacek_bilski" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/jacekbilski" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/jacek-bilski" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	<a href="https://www.xing.com/profile/Jacek_Bilski3" rel="me"><i class="fab fa-xing fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    

<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Behaviour over structure</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jan 16, 2023<br/>
    
    
    <i class="fas fa-user-edit"></i>
    
        Jacek Bilski
    
    <br/>
    
    
    
    
      
      
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/basics">basics</a>
           
      
          <a class="badge badge-tag" href="/tags/engineering">engineering</a>
           
      
          <a class="badge badge-tag" href="/tags/software-development">software development</a>
           
      
          <a class="badge badge-tag" href="/tags/value">value</a>
          
      
    
    
    <br/>
    
        <i class="fas fa-clock"></i> 9 min read
    
</div>


  </header>
  
  
  <div class="post">
    <p>This post was originally posted on <a href="https://www.innoq.com/en/blog/behaviour-over-structure/" target="_blank">INNOQ blog</a>.</p>
<p><em>Note:</em> In this post, I&rsquo;m using the terms &ldquo;behaviour&rdquo; and &ldquo;structure&rdquo; to describe more &ldquo;dynamic&rdquo; and more &ldquo;static&rdquo; properties of a particular system or piece of software.
That is, I&rsquo;m using the term &ldquo;structure&rdquo; for properties like &ldquo;Java <em>is</em> a statically-typed language&rdquo; or &ldquo;We follow <a href="https://stackoverflow.com/questions/3295496/what-is-a-javabean-exactly" target="_blank">Java Beans</a> convention in this project&rdquo;.
On the other hand, &ldquo;behaviour&rdquo; to me are things like &ldquo;The application correctly <em>calculates</em> SHA-512 checksum&rdquo; or &ldquo;The calculations are <em>done</em> within 10 seconds&rdquo;.
To put it differently, &ldquo;behaviour&rdquo; answers the question &ldquo;what&rdquo;, and &ldquo;structure&rdquo; answers the question &ldquo;how&rdquo;.</p>
<p>Do I care how the developers structured their code when I&rsquo;m trying to buy a train ticket online?
No!
Do I care in which language my IDE is written?
Of course not!
Do I care which SSL library my mail client uses?
I couldn&rsquo;t care less!</p>
<p>What I do care about is, that I can find the best train connection between A and B, choose any additional options I might want and buy the ticket.
From my IDE I&rsquo;d require things like the ability to compile the project, run the tests or highlight the code among other things, not that it&rsquo;s written in language X or that&rsquo;s written in a particular style.
Same for my mail client, it needs to reliably and securely send and receive emails, show them to me, enable writing new messages and not much more.
<em>How</em> those systems are achieving their goals is usually not important, <em>that</em> they do achieve them is.</p>
<p>What is quite often bothering me is that we&rsquo;re not focusing on the behaviour, but on the structure.
I could see that in one of my last projects, also on two different levels.</p>
<p>On a code level we had to, for example, implement a verification mechanism for user-provided data.
External users might enter some data which our employees need to approve or reject, partially or completely, and in case of rejection also provide feedback.
I admit, the process was not trivial and there were some corner cases.
From a technical perspective, the data were owned by one app and had to be provided via REST API to another, clearing app.</p>
<p>The first thing the team did was to prepare the data structures &ldquo;necessary&rdquo; to prepare the API.
Merge request affected 81 files with 2479 lines added and 336 removed.
Then the API itself with 14 files affected, 697 lines added and 70 removed.
And then at least 7 other merge requests adding or fixing related stuff.
We had no idea what would we need to build to make the system <em>behave</em> as we wanted it to.
Funny fact, from the beginning some of us were raising concerns about the code design, we even discussed that and started refactoring this part of the system.
In the end, we gave up on that, <em>really</em> improving things would take too much time.</p>
<p>My point is this: we were creating code we <em>thought</em> we&rsquo;d need.
I&rsquo;m afraid that quite a lot of this code was not necessary, or, to make it usable, we had to adapt it (see <a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it" target="_blank">YAGNI</a>).
Instead, we should have started with the UI and written just enough code to make the UI work.
We already had the designs for the UI so we knew how the system should <em>behave</em>.
In the end, we <em>might</em> have ended with the same amount of code, maybe even with the same code, but then we would be sure it was all really necessary because it served the UI.
At least I would question the amount of the code, and the way it currently looks, far less.</p>
<p>But the same symptoms I see on a higher level: stories.
They speak with nouns, not verbs.
We need to prepare for our web app, for example, pages X or Y, where X or Y are the names of pages in design documents.
I&rsquo;d rather see more of &ldquo;enable approving data&rdquo; or &ldquo;enable rejecting data&rdquo;.
It&rsquo;s not that bad in this case, because a single page is about one or more <em>behaviours</em>, and behaviours are usually not split across pages.
But it gets worse quickly, because &ldquo;prepare page X&rdquo; is only about the frontend, &ldquo;prepare API&rdquo; or &ldquo;prepare repository&rdquo; are separate stories, and, usually, support both pages X <em>and</em> Y.
As I mentioned above, we&rsquo;re not starting from the top and going down, we quite often start somewhere in the middle, like on the API level, and then build up <em>and</em> down.
That way we start writing new functionalities without having clear behaviour in mind.</p>
<p>This approach has some benefits though, I admit.
The first one is, it&rsquo;s like in most other projects, at least those I was working on.
It&rsquo;s familiar, and although this is usually a good thing, I was already writing about the dark sides of it <a href="/posts/random/familiarity-friend-or-foe/">here</a> and <a href="/posts/random/familiarity-friend-or-foe-part-2/">here</a>.
Moreover, it might be easier to parallelize work on stories cut more &ldquo;horizontally&rdquo;.
In the case of more &ldquo;vertical&rdquo; stories, the ones going across all layers, from UI to DB, there&rsquo;s a higher likelihood of code conflicts if two people were to work on topics that overlap each other to some extent.
Also, the first developer to work on such a story would need to invest a bit more time in it to provide some basic infrastructure, create some controllers or repositories, expose endpoints, etc.
Anyone following would probably just need to extend this infrastructure.</p>
<p>Still, if this infrastructure would be so small, that it would be &ldquo;just&rdquo; enough to fulfil the requirements, do not try to predict and support possible future use cases (<a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it" target="_blank">YAGNI</a> anyone?), it should not be a problem.
This post is not supposed to be about TDD or BDD, but here we are, they fit the situation like a glove.
Behaviour-driven development provides us exactly with the tools we could use to focus on the important part, the behaviour, and avoid the pitfalls like &ldquo;writing too much code&rdquo;.</p>
<p>I also mentioned &ldquo;vertical&rdquo; stories.
Would I go too far if I compared this approach to <a href="https://scs-architecture.org/" target="_blank">self-contained systems</a>?
In the end, the goal is the same, to have everything required to fulfil a requirement, big or small, in one application, from UI through business logic down to data persistence.
Or cross-functional teams?
Again, a team should have people with all the skills necessary to provide value to the customer, including development, sales, marketing, operations, etc.
The same is for stories.
Once a story is implemented the system should provide new or changed functionality (behaviour).
A half-baked &ldquo;API is there, now we just need to adapt the DB and UI&rdquo; brings no value.
Or, more correctly, provides no measurable progress.
The users, in the case of UI or web apps, cannot see anything, there&rsquo;s no value for them, and they also cannot provide us with any feedback.
If, on the other hand, you could show them even rudimentary UI covering the simplest use case, you are already giving the customers something tangible.
Even if this use case is too simple for the customer to use, you could at least ask them if that&rsquo;s the direction you should be going in.</p>
<p>Things like performance, reliability, security and other -ilities are also behaviour, not structure.
I want my application to be performant and <em>deliver</em> the results to the users within a reasonable time.
What is a reasonable time depends of course on the context.
With reliability, I want to make sure, that even under heavy load, my application will still be <em>working</em>.
If a system my app depends on fails, my app will still be <em>working</em>.
Same for security, I don&rsquo;t want my application to <em>reveal</em> sensitive data to unauthorized users.
At the same time, I want to make sure, that authorized users always <em>can access</em> their data.</p>
<p>Finally, I need to stand in defence of the structure.
It is important, even extremely so, but we can only judge it by looking at the properties it provides.
For example, in Java, I might choose a <code>LinkedList</code> as a data structure to hold some data, but I should not do that just because I simply like the way list elements are linked in memory.
I might find this particular implementation of a collection the best fit for my needs because I don&rsquo;t know how many elements I&rsquo;ll have in that collection, but I know I&rsquo;ll be working near one of the ends of this list.
Based on this use case I might find that this is the fastest data structure I have at my disposal.
In other words, it <em>does</em> its job better than other data structures given some quality criteria, like performance in this example.</p>
<p>Similarly, we would be choosing to store user passwords not in clear text, but using some hashing algorithm.
We would be doing that not because, for example, we like the idea that all passwords would then have the same length, but because this would <em>prevent</em> others from getting to know the passwords or access to the system in case of a data breach.
We would use an algorithm with salting to, again, <em>prevent</em> others from trying dictionary attacks against possible leaked passwords.</p>
<p>And again, we&rsquo;d be architecting our system in a completely different way if it had to only <em>serve</em> at most 10 parallel users (think of some internal, non-critical system used in a small company) when compared to a system that might need to serve 10 million parallel users (GMail? Office365? Facebook?).
In the first case, we&rsquo;d most likely need just one instance of it, a simple database behind the scenes, all that running maybe even on a desktop PC sitting under your desk.
In the second case, one instance will definitely no be enough, the same goes for any supporting system, like a DB.
Moreover, you&rsquo;d most likely want to make sure it&rsquo;s always available, has good response times, etc., etc.
Running this &ldquo;under your desk&rdquo; is definitely not the best option.</p>
<p>Whenever we choose a particular structure out of some options, we base this decision on what this particular structure has to offer.
If we choose the structure wrong, the behaviour of the system using that structure might be suboptimal.
It may be too slow if we used bubble sort for example.
It might run out of memory if we choose an in-memory DB and there&rsquo;s just too much data.
It might also be easier to further develop and maintain the system if we choose the structures right.
And so on, and so forth.
Choose your structures in such a way that they serve the desired behaviour best.</p>
<h4 id="tldr">TL;DR</h4>
<p>The users want our applications to <em>do</em> something.
For them, it&rsquo;s irrelevant <em>how</em> we achieve that.
In particular, the structures we choose to use.
Therefore, next time when you&rsquo;re asked to implement something, make sure to first understand what&rsquo;s the desired <em>behaviour</em> of the app.
Based on that try to make the application <em>do</em> that.
It is only now that you should think about structures.</p>
<p><em>I&rsquo;d like to thank Joachim and FND for providing feedback and helping me making this post better.</em></p>

  </div>
  


  

  
    
        <script src="https://utteranc.es/client.js"
        repo="jacekbilski/jacekbilski.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    



    



    </body>
</html>
