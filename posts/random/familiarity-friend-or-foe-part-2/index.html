<!DOCTYPE html>
<html lang="en-gb">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="author" content="Jacek Bilski">
<meta name="generator" content="Hugo 0.85.0" />

    
    
    

<title>Familiarity - friend or foe (part 2) • On Software Engineering</title>
<meta name="description" content="I continue to see some negative sides to familiarity, this time how it might prevent us from finding better, but not obvious solutions">
<meta name="keywords" content="familiarity, expressiveness">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Familiarity - friend or foe (part 2)"/>
<meta name="twitter:description" content="I continue to see some negative sides to familiarity, this time how it might prevent us from finding better, but not obvious solutions"/>
<meta name="twitter:site" content="@jacek_bilski"/>

<meta property="og:title" content="Familiarity - friend or foe (part 2)" />
<meta property="og:description" content="I continue to see some negative sides to familiarity, this time how it might prevent us from finding better, but not obvious solutions" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.bilski.tech/posts/random/familiarity-friend-or-foe-part-2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-04-26T00:00:00+00:00" />



    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.302e105633e7b74ff627e4a63c9fc0dc7446d15c60a7a4a2e12da987fdd9de0e.css" integrity="sha256-MC4QVjPnt0/2J&#43;SmPJ/A3HRG0Vxgp6Si4S2ph/3Z3g4=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.bilski.tech/">
        
          On Software Engineering
        
        </a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://www.bilski.tech/img/jacek.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         Jacek Bilski&#39;s thoughts about software engineering and how to improve it 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">On Software Engineering</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/random/">
						<span>Random Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/webcalc/">
						<span>WebCalc</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/testing_primer/">
						<span>Testing Primer</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/videos/">
						<span>Videos</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About Me</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/jacek_bilski" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/jacekbilski" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/jacek-bilski" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	<a href="https://www.xing.com/profile/Jacek_Bilski3" rel="me"><i class="fab fa-xing fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    

<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Familiarity - friend or foe (part 2)</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Apr 26, 2021<br/>
    
    
    <i class="fas fa-user-edit"></i>
    
        Jacek Bilski
    
    <br/>
    
    
    
    
      
      
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/familiarity">familiarity</a>
           
      
          <a class="badge badge-tag" href="/tags/expressiveness">expressiveness</a>
          
      
    
    
    <br/>
    
        <i class="fas fa-clock"></i> 6 min read
    
</div>


  </header>
  
  
  <div class="post">
    <p><a href="/posts/random/familiarity-friend-or-foe/">The first part</a> of this post was not really meant to be a first part of, possibly, a longer series.
Yet, I seem to have found another case where things that we know and ways how we work might be preventing us from finding other solutions, possibly better.</p>
<p>Some time ago I joined a new project.
I was supposed to start working on a new application that would, later on, be taken over by a team I was part of.
I thought: cool!
I&rsquo;ll be able to do things my way, at least to some degree.
The project is written in Java, I needed some value object, so I&rsquo;ve written something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> Bar bar<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> Baz baz<span style="color:#f92672">;</span>
  
  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Foo</span><span style="color:#f92672">(</span>Bar bar<span style="color:#f92672">,</span> Baz baz<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">bar</span> <span style="color:#f92672">=</span> bar<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">baz</span> <span style="color:#f92672">=</span> baz<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>A perfectly legal Java class, all fields final, so the instances are immutable, I can freely pass such object around and not worry about data being changed or race conditions.
Also, no getters and setters which usually just create noise.
The only way to set the values is to create a new object and pass those values to the constructor.
Reading the values meant just accessing the properties, no getters invocation.
The class is short and to the point &ndash; it&rsquo;s just a value object, has no logic.</p>
<p>And then came SonarQube and told me: over my dead body, thou shalt declare your fields private and create getters and setters if you need them.</p>
<p>I had to change the class to look like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Value</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Bar bar<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Baz baz<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>I used Lombok to shorten the code, it doesn&rsquo;t look that bad right now, and it is immutable once created.
Still, the resulting class has getters and setters I wanted to avoid.</p>
<p>Here&rsquo;s the point I want to highlight.
In my case getters and setters add no value, there&rsquo;s no logic hidden in there.
They&rsquo;re also not providing any encapsulation or hide the internal structure of the class.
My first approach looks very clean and just from the first looks tells me &ldquo;I&rsquo;m a value object&rdquo;, at least to me.</p>
<p>The only reason to add getters and setters there is the Java Beans standard.
According to <a href="https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/" target="_blank">the documentation</a></p>
<blockquote>
<p>A Java Bean is a reusable software component that can be manipulated visually in a builder tool.</p>
</blockquote>
<p>The documentation then goes on and specifies, for example, that &ldquo;Properties are always accessed via method calls on their owning object&rdquo;, so getters and maybe, for writable properties, setters.
Also, your class should provide a no-argument constructor so that the tools can instantiate the beans without having to look for and guess the parameters required by constructors that do take parameters.</p>
<p>I believe the time of Java Beans is gone, it provides little to no value today.
The last time I was using a RAD, something like Delphi, was maybe 2003, 18 years ago.
I just checked, such IDEs still exist, they do provide visual tools, but mostly for UI components, something that you can actually see.
They do not claim to enable you to visually, drag&amp;drop-style put together any kind of application more complex than displaying a &ldquo;Hello World!&rdquo;.
Yet, here we are, in a world, where a significant percentage of all methods existing in a Java project are getters and setters.
We write them almost with our eyes closed, they&rsquo;re so obvious that they become almost invisible.</p>
<p>Of course, Java Beans-style is not completely bad and useless, there are benefits of using it, sometimes significant ones.
One is that the tools we&rsquo;re using often rely on our classes having getters and setters.
If we deviate from it, they might have trouble doing their job.
Take Hibernate for instance.
Once we create a class without a no-args constructor, Hibernate will complain.
They can get around having no getters and setters using reflection, but they do recommend having them.
The same goes with other, popular tools like Jackson.
They do not require getters or setters, but cannot work without a no-argument constructor.
Sometimes they provide a lower-level API where you could write your own code creating objects using whatever constructors you have available, but this also means more work from your side.
This is an important aspect pointed to me by a Java Champion, he knows the Java environment and tools far better than me and I have to take his advice into consideration.</p>
<p>The second aspect is non-technical and touches &ldquo;familiarity&rdquo;.
Once I &ldquo;break&rdquo; the convention and start creating classes differently, I might surprise other developers.
You might have already heard about a <a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment" target="_blank">&ldquo;principle of least astonishment</a>.
Indeed, how often do you want to wonder why a specific thing is done differently than usual?
Is this solution the right one?
Has someone chosen it purposely for some property particularly beneficial in a given context?
What are those property and context?</p>
<p>I just made a circle, I ended up exactly where I&rsquo;ve started.
The reason for me to break the convention is to get some benefits in a current context, but it will cause some confusion in others.
I can explain why I&rsquo;m doing things differently, but I&rsquo;d need to be there to answers all the questions and explain the context every time someone sees my &ldquo;weird&rdquo; code for the first time.
Also, sometimes those gains do not justify the confusion.
Every single time it&rsquo;s a tough choice and a trade-off.</p>
<p>Of course, getters and setters are just the tip of an iceberg.
They might also not be the perfect example of a &ldquo;standard&rdquo; to break.
I have much more &ldquo;crazy&rdquo; ideas in my head and would like to break much more rules and also much more fundamental ones.
Still, every now and then I find pieces of code I do not like, although they look &ldquo;normal&rdquo; in Java.
Every such time I&rsquo;m asking myself &ndash; does it have to be this way?
Where is it coming from?
What would happen if I break the convention and do something different?
Are the old ways still the best ones, or should we move forward?</p>
<p>Those questions are open, I do not have any general answers here.
Most likely those questions can be answered only in a given context.
Definitely an interesting topic, and I will definitely be revisiting it from time to time.</p>
<p>Note, this post was also published on <a href="https://techcoffeetime.com/familiarity-friend-or-foe-part-2/" target="_blank">Tech Coffee Time</a>.</p>

  </div>
  


  

  
    
        <script src="https://utteranc.es/client.js"
        repo="jacekbilski/jacekbilski.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    



    



    </body>
</html>
